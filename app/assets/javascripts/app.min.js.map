{"version":3,"sources":["app.js","auth._.js","bucket._.js","dashboard._.js","drip-list._.js","drip-modal-bucket._.js","drip._.js","feature._.js","profile._.js","to._.js","ui-template._.js","video-dashboard._.js","video-link._.js","video._.js"],"names":["drip8","angular","module","window","fbAsyncInit","FB","init","appId","status","xfbml","version","directive","restrict","scope","link","element","attributeSet","login","location","$rootScope","$http","elemenet","profileData","buckets","newDrip","id","$broadcast","getDrip","post","user_id","dripbucket_id","success","response","console","log","newBucket","bucket","$","modal","name","state","reload","getAllBucket","$on","evt","profile","Video","compile","atrributeSet","pre","drips","queryAllDrips","get","count","responsed","index","drip_id","push","queryEachDrip","linkUri","service","video_id","split","ampersandPosition","indexOf","substring","videoSource","ids","dripList","dripListing","thumbnail","showVideo","dripDetails","addDrip","drip","bucketId","feature","bind","getUserInfo","data","trustUrl","featured","featuredVideo","to","templateUrl","ngTemplate","$sce","videoSrc","trustAsResourceUrl","on","$apply","src","factory","this","youtubeId"],"mappings":"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","file":"app.min.js","sourcesContent":["var drip8 = angular.module( \"Drip8\" , [ ] );\n\nwindow.fbAsyncInit = function ( ) {\n\tFB.init( {\n\t\t\"appId\"    \t : \"719176184895882\",\n\t    \"status\"     : true,\n\t    \"xfbml\"      : true,\n\t    \"version\"    : 'v2.3' // or v2.0, v2.1, v2.0\n\t} );\n};","drip8\n\t.directive( \"auth\" , [\t\t\n\t\tfunction directive ( ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"link\": function onLink ( scope , element , attributeSet ) {\n\t\t\t\t\tscope.login = function login ( ) {\n\t\t\t\t\t\twindow.location = \"/auth/facebook\";\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"bucket\" , [\n\t\t\"$rootScope\",\n\t\t\"$http\",\n\t\tfunction directive ( $rootScope , $http ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"link\": function onLink ( scope , elemenet , attributeSet ) {\n\t\t\t\t\tscope.profileData = { };\n\n\t\t\t\t\tscope.buckets = [ ];\n\n\t\t\t\t\tscope.newDrip = function newDrip ( id ) {\n\t\t\t\t\t\t$rootScope.$broadcast( \"drip-new\" , id );\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.getDrip = function getDrip ( id ) {\n\t\t\t\t\t\t$http.post( \"/api/read_drips_by_bucket_and_user\" , {\n\t\t\t\t\t\t\t\"user_id\": scope.profileData.id,\n\t\t\t\t\t\t\t\"dripbucket_id\": id\n\t\t\t\t\t\t} )\n\t\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\t\tconsole.log( response );\n\t\t\t\t\t\t} );\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.newBucket = function newBucket ( bucket ) {\n\t\t\t\t\t\t$( \"#createDripBoardBox\" ).modal( \"hide\" );\n\t\t\t\t\t\t$http.post( \"/api/add_bucket\" , {\n\t\t\t\t\t\t\t\"bucket\": {\n\t\t\t\t\t\t\t\t\"user_id\": scope.profileData.id,\n\t\t\t\t\t\t\t\t\"name\": bucket.name,\n\t\t\t\t\t\t\t\t\"state\": bucket.state\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} ).success( function ( response ) {\t\t\t\t\t\t\t\n\t\t\t\t\t\t\twindow.location.reload( );\n\t\t\t\t\t\t} );\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.getAllBucket = function getAllBucket ( ) {\t\t\t\t\t\t\n\t\t\t\t\t\t$http.post( \"/api/read_all_bucket_by_user\" , {\n\t\t\t\t\t\t\t\"user_id\": scope.profileData.id\n\t\t\t\t\t\t} )\n\t\t\t\t\t\t.success( function ( response ) {\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tscope.buckets = response.buckets;\n\t\t\t\t\t\t} );\n\t\t\t\t\t};\t\t\t\t\t\n\n\t\t\t\t\tscope.$on( \"profile-data\" , \n\t\t\t\t\t\tfunction ( evt , profile ) {\n\t\t\t\t\t\t\tscope.profileData = profile;\n\t\t\t\t\t\t\tscope.getAllBucket( );\n\t\t\t\t\t\t} );\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"dripDashboard\" , [\n\t\t\"$http\",\n\t\t\"Video\",\n\t\t\"$rootScope\",\n\t\tfunction directive ( $http , $rootScope , Video ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"compile\": function compile ( element , atrributeSet ) {\n\t\t\t\t\treturn {\n\n\t\t\t\t\t\tpre: function pre( scope , element , atrributeSet ){\n\t\t\t\t\t\t\tscope.drips = [];\n\t\t\t\t\t\t\tscope.queryAllDrips = function queryAllDrips(){\n\t\t\t\t\t\t\t\t$http.get( \"/api/drip_length\" )\n\t\t\t\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\t\t\t\tif( response.count != 0 ){\n\t\t\t\t\t\t\t\t\t\tscope.count = response.count;\n\t\t\t\t\t\t\t\t\t\tvar count = 1;\n\t\t\t\t\t\t\t\t\t\tscope.responsed = [];\n\t\t\t\t\t\t\t\t\t\tfor( var index = 3 ; index >= 0 ; index-- ){\n\t\t\t\t\t\t\t\t\t\t\tvar id = scope.count - count\n\t\t\t\t\t\t\t\t\t\t\tconsole.log( id );\n\t\t\t\t\t\t\t\t\t\t\t$http.post( \"/api/drip_each\" , { \"drip_id\": id } )\n\t\t\t\t\t\t\t\t\t\t\t.success( function ( responsed ) {\n\t\t\t\t\t\t\t\t\t\t\t\tscope.responsed.push( responsed );\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log( responsed )\n\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\tscope.$broadcast( 'end-fetch' , scope.responsed );\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tscope.queryAllDrips();\n\t\t\t\t\t\t} , \n\n\t\t\t\t\t\tpost: function post( scope , element , atrributeSet ){\n\t\t\t\t\t\t\tscope.queryEachDrip = function queryEachDrip(){\n\t\t\t\t\t\t\t\t//codes to query each drip here\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tscope.linkUri = function linkUri ( link , service ) {\n\t\t\t\t\t\t\t\tconsole.log( link );\n\t\t\t\t\t\t\t\tvar video_id = link.split( 'v=' )[1];\n\t\t\t\t\t\t\t\tscope.video_id = video_id;\n\t\t\t\t\t\t\t\tvar ampersandPosition = video_id.indexOf( '&' );\n\t\t\t\t\t\t\t\tif ( ampersandPosition != -1 ) {\n\t\t\t\t\t\t\t\t  video_id = video_id.substring( 0 , ampersandPosition );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// console.log( service );\n\t\t\t\t\t\t\t\t// console.log( Video );\n\t\t\t\t\t\t\t\t// console.log( video_id );\n\t\t\t\t\t\t\t\tif ( service == \"thumb\" ) {\n\n\t\t\t\t\t\t\t\t\t//return Video.thumbnail( video_id );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn Video.videoSource( video_id );\n\t\t\t\t\t\t\t\t}\t\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"dripList\" , [\n\t\t\"$http\",\n\t\t\"Video\",\n\t\t\"$rootScope\",\n\t\tfunction directive ( $http , Video , $rootScope ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"link\": function onLink ( scope , element , attributeSet ) {\n\n\t\t\t\t\tvar ids = attributeSet.dripList.split( \"-\" );\n\t\t\t\t\tscope.drips = [ ];\t\n\n\t\t\t\t\tscope.dripListing = function dripListing ( ) {\n\t\t\t\t\t\t$http.post( \"/api/read_drips_by_bucket_and_user\" , {\n\t\t\t\t\t\t\t\"dripbucket_id\": ids[0],\n\t\t\t\t\t\t\t\"user_id\": ids[1]\n\t\t\t\t\t\t} )\n\t\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\t\tscope.drips = response.drips;\n\t\t\t\t\t\t} );\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.linkUri = function linkUri ( link , service ) {\n\t\t\t\t\t\tvar video_id = link.split( 'v=' )[1];\n\t\t\t\t\t\tvar ampersandPosition = video_id.indexOf( '&' );\n\t\t\t\t\t\tif ( ampersandPosition != -1 ) {\n\t\t\t\t\t\t  video_id = video_id.substring( 0 , ampersandPosition );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( service == \"thumb\" ) {\n\t\t\t\t\t\t\treturn Video.thumbnail( video_id );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn Video.videoSource( video_id );\n\t\t\t\t\t\t}\t\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.showVideo = function showVideo ( link ) {\n\t\t\t\t\t\t$( \"#videoLink\" ).modal( \"show\" );\n\t\t\t\t\t\t$rootScope.$broadcast( \"video-source\" , link );\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.dripListing( );\n\n\t\t\t\t\tscope.$on( \"drips-reload\" , \n\t\t\t\t\t\tfunction ( ) {\n\t\t\t\t\t\t\tscope.dripListing( );\n\t\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"dripModalBucket\" , [\n\t\t\"$http\",\n\t\t\"$rootScope\",\n\t\tfunction directive ( $http , $rootScope ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"link\": function onLink ( scope , element , atrributeSet ) {\n\t\t\t\t\tconsole.log( \"drip-modal-bucket\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"drip\" , [\n\t\t\"$http\",\n\t\t\"$rootScope\",\n\t\tfunction directive ( $http , $rootScope ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"link\": function onLink ( scope , element , atrributeSet ) {\n\t\t\t\t\tscope.dripDetails = { \n\t\t\t\t\t\t\"state\": \"public\"\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.profileData = { };\n\n\t\t\t\t\tscope.addDrip = function addDrip ( ) {\t\t\t\t\t\t\n\t\t\t\t\t\t$( \"#addADrip\" ).modal( \"hide\" );\n\t\t\t\t\t\tscope.dripDetails.user_id = scope.profileData.id;\n\n\t\t\t\t\t\t$http.post( \"/api/add_drip\" , {\n\t\t\t\t\t\t\t\"drip\": scope.dripDetails\n\t\t\t\t\t\t} )\n\t\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\t\t$rootScope.$broadcast( \"drips-reload\" );\n\t\t\t\t\t\t\tscope.dripDetails = { \n\t\t\t\t\t\t\t\t\"state\": \"public\"\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} );\t\t\t\t\t\t\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.$on( \"drip-new\" , \n\t\t\t\t\t\tfunction ( evt , bucketId ) {\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tscope.dripDetails.dripbucket_id = bucketId;\t\t\t\t\t\t\t\n\t\t\t\t\t\t} );\n\n\t\t\t\t\tscope.$on( \"profile-data\" , \n\t\t\t\t\t\tfunction ( evt , profile ) {\n\t\t\t\t\t\t\tscope.profileData = profile;\n\t\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"feature\" , [\n\t\t\"$http\",\n\t\tfunction directive ( $http ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"link\": function onLink ( scope , element , attributeSet ) {\t\t\t\t\t\n\n\t\t\t\t\tvar ids = attributeSet.feature.split( \"-\" );\n\n\t\t\t\t\telement.bind( \"click\" , \n\t\t\t\t\t\tfunction ( ) {\n\t\t\t\t\t\t\t$http.post( \"/api/new_featured\" , {\n\t\t\t\t\t\t\t\t\"user_id\": ids[0],\n\t\t\t\t\t\t\t\t\"drip_id\": ids[1]\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\t\t\twindow.location.reload( );\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"profile\" , [\n\t\t\"$http\",\n\t\t\"Video\",\n\t\t\"$rootScope\",\n\t\tfunction directive ( $http , Video , $rootScope ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"link\": function onLink ( scope , element , attributeSet ) {\n\t\t\t\t\tconsole.log( \"profile\" );\n\t\t\t\t\tscope.profile = { };\t\t\t\t\t\n\n\t\t\t\t\tscope.getUserInfo = function getUserInfo ( ) {\n\t\t\t\t\t\t$http.get( \"/api/user\" )\n\t\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\t\tscope.profile = response.data;\n\t\t\t\t\t\t\tscope.trustUrl( );\n\t\t\t\t\t\t} );\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.trustUrl = function trustUrl ( ) {\n\t\t\t\t\t\tvar video_id = \"\";\n\t\t\t\t\t\t$http.post( \"/api/video_featured\" , {\n\t\t\t\t\t\t\t\"user_id\": scope.profile.id\n\t\t\t\t\t\t} )\n\t\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\t\tif ( response.link ) {\n\t\t\t\t\t\t\t\tvideo_id = response.link.split( 'v=' )[1];\n\t\t\t\t\t\t\t\tvar ampersandPosition = video_id.indexOf( '&' );\n\t\t\t\t\t\t\t\tif ( ampersandPosition != -1 ) {\n\t\t\t\t\t\t\t\t  video_id = video_id.substring( 0 , ampersandPosition );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tscope.profile.featured = response.link;\n\t\t\t\t\t\t\t$rootScope.$broadcast( \"profile-data\" , scope.profile );\n\t\t\t\t\t\t\tscope.profile.featuredVideo = Video.videoSource( video_id );\t\t\t\t\t\t\t\n\t\t\t\t\t\t} );\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.getUserInfo( );\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"to\" , [\n\t\tfunction directive ( ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"link\": function onLink ( scope , element , attributeSet ) {\n\n\t\t\t\t\telement.bind( \"click\" , \n\t\t\t\t\t\tfunction ( ) {\n\t\t\t\t\t\t\twindow.location = attributeSet.to;\n\t\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"uiTemplate\" , [\n\t\tfunction directive ( ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"E\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"templateUrl\": function onTemplateLoad ( element , attributeSet ) {\n\t\t\t\t\treturn \"/api/template?template=\" + attributeSet.ngTemplate;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"videoDashboard\" , [\n\t\t\"$http\",\n\t\t\"Video\",\n\t\t\"$rootScope\",\n\t\t\"$sce\",\n\t\tfunction directive ( $http , Video , $rootScope , $sce ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": {\n\t\t\t\t\t\"videoSrc\": \"=\"\n\t\t\t\t},\n\t\t\t\t\"link\": function onLink ( scope , element , attributeSet ) {\n\t\t\t\t\tscope.videoSrc = $sce.trustAsResourceUrl( scope.videoSrc );\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"videoLink\" , [\n\t\tfunction  directive ( ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"link\": function onLink ( scope , element , attributeSet ) {\n\t\t\t\t\tscope.videoSource;\n\n\t\t\t\t\t$( \"#videoLink\" ).on( \"hidden.bs.modal\" , \n\t\t\t\t\t\tfunction ( ) {\n\t\t\t\t\t\t\tscope.$apply( function ( ) {\n\t\t\t\t\t\t\t\tscope.videoSource = \"\";\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\n\t\t\t\t\tscope.$on( \"video-source\" , \n\t\t\t\t\t\tfunction ( evt , src ) {\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tscope.videoSource = src;\n\t\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.factory( \"Video\" , [\n\t\t\"$sce\",\n\t\tfunction factory ( $sce ) {\n\t\t\tthis.thumbnail = function thumbnail ( youtubeId ) {\n\t\t\t\treturn $sce.trustAsResourceUrl( \"http://img.youtube.com/vi/\" + youtubeId + \"/0.jpg\" );\n\t\t\t};\n\n\t\t\tthis.videoSource = function videoSource ( youtubeId ) {\n\t\t\t\treturn $sce.trustAsResourceUrl( \"https://www.youtube.com/embed/\" + youtubeId + \"?rel=0&nologo=1&showinfo=0&modestbranding=1&iv_load_policy=3\" );\n\t\t\t};\n\n\t\t\treturn this;\n\t\t}\n\t] );"],"sourceRoot":"/source/"}