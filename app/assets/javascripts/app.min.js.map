{"version":3,"sources":["app.js","auth._.js","bucket._.js","dashboard._.js","drip-list._.js","drip-modal-bucket._.js","drip._.js","feature._.js","profile-service._.js","profile._.js","to._.js","ui-template._.js","video-dashboard._.js","video-link._.js","video._.js"],"names":["drip8","angular","module","window","fbAsyncInit","FB","init","appId","status","xfbml","version","directive","restrict","scope","link","element","attributeSet","login","location","$rootScope","$http","profileService","dripListService","elemenet","profileData","buckets","newDrip","id","bucketName","$broadcast","getDrip","post","user_id","dripbucket_id","success","response","console","log","description","desc","newBucket","bucket","$","modal","name","state","reload","getAllBucket","setProfile","rename","drip","target","createAsyncTask","taskArray","setting","tasks","forEach","e","push","callback","drip_id","drips","dripList","setDripList","list","asyncTasks","async","parallel","err","taskResponse","deleteDrip","settingDropdown","profile","$on","evt","JSON","parse","localStorage","userProfile","lastId","get","index","count","length","splice","passProfile","setItem","stringify","seeBucket","loadMore","last","idLoad","service","credentials","Video","ids","split","dripFilter","array","newDripArray","dripListing","linkUri","video_id","ampersandPosition","indexOf","substring","thumbnail","videoSource","showVideo","atrributeSet","data","directDrip","dripBucketDetails","comments","dripbucket","thumb","changeVideo","react","comment","user","fbId","profile_picture","facebook_id","body","dripComment","dripDetails","addDrip","bucketId","dripState","feature","bind","compile","pre","profileName","undefined","getUserInfo","trustUrl","featured","featuredVideo","$watch","newValue","oldValue","to","templateUrl","ngTemplate","videoSrc","on","$apply","src","factory","$sce","this","youtubeId","trustAsResourceUrl"],"mappings":"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","file":"app.min.js","sourcesContent":["var drip8 = angular.module( \"Drip8\" , [ 'angular-flexslider' , 'infinite-scroll' ] );\n\nwindow.fbAsyncInit = function ( ) {\n\tFB.init( {\n\t\t\"appId\"    \t : \"719176184895882\",\n\t    \"status\"     : true,\n\t    \"xfbml\"      : true,\n\t    \"version\"    : 'v2.3' // or v2.0, v2.1, v2.0\n\t} );\n};","drip8\n\t.directive( \"auth\" , [\t\t\n\t\tfunction directive ( ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"link\": function onLink ( scope , element , attributeSet ) {\n\t\t\t\t\tscope.login = function login ( ) {\n\t\t\t\t\t\twindow.location = \"/auth/facebook\";\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"bucket\" , [\n\t\t\"$rootScope\",\n\t\t\"$http\",\n\t\t'profileService',\n\t\t'dripListService',\n\t\tfunction directive ( $rootScope , $http , profileService , dripListService ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"link\": function onLink ( scope , elemenet , attributeSet ) {\n\t\t\t\t\tscope.profileData = { };\n\n\t\t\t\t\tscope.buckets = [ ];\n\t\t\t\t\t//console.log( localStorage.userProfile );\n\t\t\t\t\tscope.newDrip = function newDrip ( id , bucketName ) {\n\t\t\t\t\t\t$rootScope.$broadcast( \"drip-new\" , id , bucketName );\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.getDrip = function getDrip ( id ) {\n\t\t\t\t\t\t$http.post( \"/api/read_drips_by_bucket_and_user\" , {\n\t\t\t\t\t\t\t\"user_id\": scope.profileData.id,\n\t\t\t\t\t\t\t\"dripbucket_id\": id\n\t\t\t\t\t\t} )\n\t\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\t\tconsole.log( response );\n\t\t\t\t\t\t} );\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.description= function description( desc ){\n\t\t\t\t\t\treturn desc != null;\n\t\t\t\t\t};\n\t\t\t\t\tscope.newBucket = function newBucket ( bucket ) {\n\t\t\t\t\t\t$( \"#createDripBoardBox\" ).modal( \"hide\" );\n\t\t\t\t\t\t$http.post( \"/api/add_bucket\" , {\n\t\t\t\t\t\t\t\"bucket\": {\n\t\t\t\t\t\t\t\t\"user_id\": scope.profileData.id,\n\t\t\t\t\t\t\t\t\"name\": bucket.name,\n\t\t\t\t\t\t\t\t\"state\": bucket.state\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} ).success( function ( response ) {\t\t\t\t\t\t\t\n\t\t\t\t\t\t\twindow.location.reload( );\n\t\t\t\t\t\t} );\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.getAllBucket = function getAllBucket ( ) {\t\t\t\t\t\t\n\t\t\t\t\t\t$http.post( \"/api/read_all_bucket_by_user\" , {\n\t\t\t\t\t\t\t\"user_id\": scope.profileData.id\n\t\t\t\t\t\t} )\n\t\t\t\t\t\t.success( function ( response ) {\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tscope.buckets = response.buckets;\n\t\t\t\t\t\t\tvar profile = profileService.setProfile();\n\t\t\t\t\t\t\t// if( scope.profileData.id == '1' || profile.id == '1' ){\n\t\t\t\t\t\t\t// \tscope.buckets.splice( 0 , 3 );\n\t\t\t\t\t\t\t// \tconsole.log( scope.buckets );\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t} );\n\t\t\t\t\t};\n\t\t\t\t\tscope.rename = function rename ( drip , target ) {\t\t\t\t\t\t\n\t\t\t\t\t\t//console.log( drip , target );\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tvar createAsyncTask = function createAsyncTask ( taskArray , setting ) {\n\t\t\t\t\t\tvar tasks = [ ];\n\n\t\t\t\t\t\ttaskArray.forEach( function ( e ) {\n\t\t\t\t\t\t\tconsole.log( e )\n\t\t\t\t\t\t\tif( setting == 'public' ){\n\t\t\t\t\t\t\t\tsetting = e.state\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tsetting = 'profile only'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttasks.push( function ( callback ) {\n\t\t\t\t\t\t\t\t$http.post( \"/api/update_drip_state\" , { \n\t\t\t\t\t\t\t\t\t\"drip_id\": e.id,\n\t\t\t\t\t\t\t\t\t\"state\": setting  \n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\t\t\t\tcallback( null , response );\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\treturn tasks;\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.setting = function setting ( drips , setting , target , id ) {\t\t\t\t\t\t\n\t\t\t\t\t\t//console.log( drips , setting , target );\n\n\t\t\t\t\t\tswitch( target ){\n\n\t\t\t\t\t\t\tcase 'drip':\n\t\t\t\t\t\t\t\t$http.post( '/api/update_drip_state' , {\n\t\t\t\t\t\t\t\t\t\"drip_id\": drips.id,\n\t\t\t\t\t\t\t\t\t\"state\": setting \n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.success( function( response ){\n\t\t\t\t\t\t\t\t\t//console.log( \"New\" , response );\n\t\t\t\t\t\t\t\t\tscope.$broadcast( \"drips-reload\" );\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'bucket':\n\t\t\t\t\t\t\t\tconsole.log( id );\n\t\t\t\t\t\t\t\tvar dripList = dripListService.setDripList();\n\t\t\t\t\t\t\t\tvar list = dripList[ id ];\n\n\t\t\t\t\t\t\t\tvar asyncTasks = createAsyncTask( list , setting );\n\t\t\t\t\t\t\t\tasync\n\t\t\t\t\t\t\t\t\t.parallel( asyncTasks , function ( err , taskResponse ) {\n\t\t\t\t\t\t\t\t\t\tconsole.log( taskResponse );\n\t\t\t\t\t\t\t\t\t\tscope.$broadcast( \"drips-reload\" );\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t};\n\t\t\t\t\tscope.deleteDrip = function deleteDrip ( drip , target ) {\t\t\t\t\t\t\n\t\t\t\t\t\tconsole.log( drip , target );\n\t\t\t\t\t};\t\t\t\t\n\n\t\t\t\t\tscope.settingDropdown = function settingDropdown( name ){\n\t\t\t\t\t\tvar profile = profileService.setProfile() // actual profile\n\t\t\t\t\t\tif( scope.profileData.id != profile.id ){\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tswitch( name ){\n\n\t\t\t\t\t\t\t\tcase 'who I am':\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'what I do':\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'what I am proud of':\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\n\t\t\t\t\tscope.$on( \"profile-data\" , \n\t\t\t\t\t\tfunction ( evt , profile ) {\n\t\t\t\t\t\t\tscope.profileData = JSON.parse( localStorage.userProfile );// visited profile \n\t\t\t\t\t\t\tconsole.log( \"profile data below\" )\n\t\t\t\t\t\t\tconsole.log( scope.profileData )\n\t\t\t\t\t\t\tscope.getAllBucket( );\n\t\t\t\t\t\t} );\t\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"dripDashboard\" , [\n\t\t\"$http\",\n\t\t'$rootScope',\n\t\tfunction directive ( $http , $rootScope ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"link\": function onLink ( scope , element , attributeSet ) {\n\t\t\t\t\tscope.drips = [ ];\n\t\t\t\t\tscope.lastId = \"dont stop\";\n\t\t\t\t\t$http.get( \"/api/drip_length\" )\n\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\tvar taskArray = [ ];\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor ( var index = response.count  ; index >= ( response.count - 3 ) ; index -- ) {\n\t\t\t\t\t\t\ttaskArray.push( index );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar asyncTasks = createAsyncTask( taskArray );\n\t\t\t\t\t\tasync\n\t\t\t\t\t\t\t.parallel( asyncTasks , function ( err , taskResponse ) {\n\t\t\t\t\t\t\t\tfor( var index = 0 ; index < taskResponse.length ; index++ ){\n\t\t\t\t\t\t\t\t\tif( taskResponse[ index ].drip == null || taskResponse[ index ].drip.state != 'public' || taskResponse[ index ].drip.state == 'deleted' ){\n\t\t\t\t\t\t\t\t\t\tconsole.log( \"***************************deleted\" , taskResponse[ index ].drip );\n\t\t\t\t\t\t\t\t\t\ttaskResponse.splice( index , 1 );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tconsole.log( taskResponse[ index ].drip );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tscope.drips = taskResponse;\n\t\t\t\t\t\t\t\tconsole.log( taskResponse );\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t} );\n\t\t\t\t\tscope.passProfile = function passProfile( profile ){\n\t\t\t\t\t\tlocalStorage.setItem(\"userProfile\", JSON.stringify( profile ) );\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tvar createAsyncTask = function createAsyncTask ( taskArray ) {\n\t\t\t\t\t\tvar tasks = [ ];\n\t\t\t\t\t\ttaskArray.forEach( function ( e ) {\n\t\t\t\t\t\t\tconsole.log( e )\n\t\t\t\t\t\t\ttasks.push( function ( callback ) {\n\t\t\t\t\t\t\t\t$http.post( \"/api/drip_each\" , { \"drip_id\": e } )\n\t\t\t\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\t\t\t\tcallback( null , response );\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\treturn tasks;\n\t\t\t\t\t};\n\t\t\t\t\tscope.seeBucket = function seeBucket( drip ){\n\t\t\t\t\t\tconsole.log( \"see Bucket\" );\n\t\t\t\t\t\t$rootScope.$broadcast( 'see-bucket' , drip );\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.loadMore = function loadMore() {\n\t\t\t\t\t\tconsole.log( \" ***************  \" )\n\t\t\t\t\t\tconsole.log( scope.drips );\n\t\t\t\t\t\tconsole.log( scope.drips[scope.drips.length - 1] );\n\t\t\t\t\t    var last = scope.drips[scope.drips.length - 1];\n\t\t\t\t\t    if( last != null ){\n\t\t\t\t\t    \tvar lastId = last.drip.id;\n\t\t\t\t\t\t    var idLoad = lastId - 1;\n\t\t\t\t\t\t    if( lastId >= 0 && scope.lastId != 'stop' ){\n\t\t\t\t\t\t    \tconsole.log( scope.lastId );\n\t\t\t\t\t\t    \t$http.post( \"/api/drip_each\" , { \"drip_id\": idLoad } )\n\t\t\t\t\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\t\t\t\t\t//callback( null , response );\n\t\t\t\t\t\t\t\t\t\tconsole.log( response );\n\t\t\t\t\t\t\t\t\t\tif( response.drip != null && response.drip.state == 'public' ){\n\t\t\t\t\t\t\t\t\t\t\tscope.drips.push( response );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif( lastId == 0 ){\n\t\t\t\t\t\t\t\t\t\t\tscope.lastId = 'stop';\n\t\t\t\t\t\t\t\t\t\t\tconsole.log( scope.lastId );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t    }\n\t\t\t\t\t    }\n\t\t\t\t\t};\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );\n\n\n// async\n// \t.parallel( [\n// \t\tfunction ( callback ) {\n\n// \t\t},\n// \t\tfunction ( callback ) {\n\n// \t\t}, \n// \t] , function doSomething ( err , arr ) {\n\n// \t} );","drip8\n\t.service( \"dripListService\" , [\n\t\t\tfunction(){\n\t\t\t\tvar dripList = [];\n\n\t\t\t\treturn {\n\t\t\t\t\t// takes id of dripBucket and sets drips in\n\t\t\t\t\tsetDripList: function setDripList( id , credentials ){\n\t\t\t\t\t\tif( credentials ){\n\t\t\t\t\t\t\tdripList[ id ] = credentials;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\treturn dripList\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t] );\n\ndrip8\n\t.directive( \"dripList\" , [\n\t\t\"$http\",\n\t\t\"Video\",\n\t\t\"$rootScope\",\n\t\t'dripListService',\n\t\tfunction directive ( $http , Video , $rootScope , dripListService ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"link\": function onLink ( scope , element , attributeSet ) {\n\n\t\t\t\t\tvar ids = attributeSet.dripList.split( \"-\" );\n\t\t\t\t\tconsole.log( ids[ 2 ] );\n\t\t\t\t\tscope.drips = [ ];\n\n\t\t\t\t\tvar dripFilter = function dripFilter ( array ){\n\t\t\t\t\t\tvar newDripArray = [];\n\n\t\t\t\t\t\tarray.forEach( function( e ) {\n\t\t\t\t\t\t\tif( e.state != 'deleted' ){\n\t\t\t\t\t\t\t\tnewDripArray.push( e );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t\treturn newDripArray;\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.dripListing = function dripListing ( ) {\n\t\t\t\t\t\t$http.post( \"/api/read_drips_by_bucket_and_user\" , {\n\t\t\t\t\t\t\t\"dripbucket_id\": ids[0],\n\t\t\t\t\t\t\t\"user_id\": ids[1]\n\t\t\t\t\t\t} )\n\t\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\t\tscope.drips = response.drips;\n\t\t\t\t\t\t\tdripListService.setDripList( ids[ 2 ] , scope.drips );\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tscope.drips = dripFilter( scope.drips );\n\t\t\t\t\t\t\t$(\"#welcome\").modal(\"hide\");\n\t\t\t\t\t\t} );\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.linkUri = function linkUri ( link , service ) {\n\t\t\t\t\t\tvar video_id = link.split( 'v=' )[1];\n\t\t\t\t\t\tvar ampersandPosition = video_id.indexOf( '&' );\n\t\t\t\t\t\tif ( ampersandPosition != -1 ) {\n\t\t\t\t\t\t  video_id = video_id.substring( 0 , ampersandPosition );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( service == \"thumb\" ) {\n\t\t\t\t\t\t\treturn Video.thumbnail( video_id );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn Video.videoSource( video_id );\n\t\t\t\t\t\t}\t\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.showVideo = function showVideo ( link , id ) {\n\t\t\t\t\t\t$( \"#videoLink\" ).modal( \"show\" );\n\t\t\t\t\t\t$rootScope.$broadcast( \"video-source\" , link , id );\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.dripListing( );\n\n\t\t\t\t\tscope.$on( \"drips-reload\" , \n\t\t\t\t\t\tfunction ( ) {\n\t\t\t\t\t\t\tscope.dripListing( );\n\t\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"dripModalBucket\" , [\n\t\t\"$http\",\n\t\t\"$rootScope\",\n\t\t'Video',\n\t\t'profileService',\n\t\tfunction directive ( $http , $rootScope , Video , profileService ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"link\": function onLink ( scope , element , atrributeSet ) {\n\t\t\t\t\tconsole.log( \"drip-modal-bucket\" );\n\t\t\t\t\t$rootScope.$on( 'see-bucket' , function( evt , data ){\n\t\t\t\t\t\tscope.directDrip = Video.videoSource( data.drip.link.split( \"v=\" )[1] );\n\t\t\t\t\t\tscope.dripBucketDetails = data;\n\t\t\t\t\t\tscope.comments = scope.dripBucketDetails.drip.comments;\n\t\t\t\t\t\tfor( var index = 0 ; index <= data.drip.dripbucket.drips.length-1 ; index++ ){\n\t\t\t\t\t\t\tvar video_id = scope.dripBucketDetails.drip.dripbucket.drips[ index ].link.split( \"v=\" )[1];\n\t\t\t\t\t\t\tconsole.log( video_id );\n\t\t\t\t\t\t\tscope.dripBucketDetails.drip.dripbucket.drips[ index ].thumb = Video.thumbnail( video_id );\n\t\t\t\t\t\t\tconsole.log( scope.dripBucketDetails.drip.dripbucket.drips[ index ].thumb );\n\t\t\t\t\t\t\tconsole.log( scope.dripBucketDetails.drip.dripbucket.drips[ index ].link );\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconsole.log( scope.dripBucketDetails );\n\t\t\t\t\t\tscope.drip = scope.dripBucketDetails.drip;\n\t\t\t\t\t} );\n\n\n\t\t\t\t\tscope.changeVideo = function changeVideo( data ){\n\t\t\t\t\t\tscope.$broadcast( 'change-video' , data )\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.$on( 'change-video' , function( evt , data ){\n\t\t\t\t\t\tscope.directDrip = Video.videoSource( data.link.split( \"v=\" )[1] );\n\t\t\t\t\t\tscope.comments = data.comments;\n\t\t\t\t\t\tscope.drip = data;\n\t\t\t\t\t\tconsole.log( data );\n\t\t\t\t\t} );\n\n\t\t\t\t\tscope.passProfile = function passProfile( profile ){\n\t\t\t\t\t\tlocalStorage.setItem(\"userProfile\", JSON.stringify( profile ) );\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tscope.react = function react( comment ){\n\t\t\t\t\t\tvar user = profileService.setProfile();\n\t\t\t\t\t\tvar fbId = user.profile_picture.split( \"/\" )[3];\n\t\t\t\t\t\tconsole.log( scope.dripBucketDetails );\n\t\t\t\t\t\tconsole.log( user.profile_picture.split( \"/\" ) )\n\t\t\t\t\t\t\n\t\t\t\t\t\t$http.post( \"/api/create_comment\" , {\n\t\t\t\t\t\t\t\t\"comment\":{\n\t\t\t\t\t\t\t\t\t\"user_id\"\t\t: user.id ,\n\t\t\t\t\t\t\t\t\t\"drip_id\"\t\t: scope.drip.id ,\n\t\t\t\t\t\t\t\t\t\"dripbucket_id\"\t: \"\" ,\n\t\t\t\t\t\t\t\t\t\"facebook_id\"\t: fbId ,\n\t\t\t\t\t\t\t\t\t\"body\"\t\t\t: comment\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\t\t\t\tvar comment = response.comment;\n\t\t\t\t\t\t\t\t\tcomment.user = user;\n\t\t\t\t\t\t\t\t\tscope.comments.push( comment );\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\tscope.dripComment = \"\";\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"drip\" , [\n\t\t\"$http\",\n\t\t\"$rootScope\",\n\t\tfunction directive ( $http , $rootScope ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"link\": function onLink ( scope , element , atrributeSet ) {\n\t\t\t\t\tscope.dripDetails = { \n\t\t\t\t\t\t\"state\": \"profile only\"\n\t\t\t\t\t};\n\n\t\t\t\t\tscope.profileData = { };\n\n\t\t\t\t\tscope.addDrip = function addDrip ( ) {\t\t\t\t\t\t\n\t\t\t\t\t\t$( \"#addADrip\" ).modal( \"hide\" );\n\t\t\t\t\t\tscope.dripDetails.user_id = scope.profileData.id;\n\t\t\t\t\t\t//console.log( scope.dripDetails.link.split( \":\" ) )\n\t\t\t\t\t\t$http.post( \"/api/add_drip\" , {\n\t\t\t\t\t\t\t\"drip\": scope.dripDetails\n\t\t\t\t\t\t} )\n\t\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\t\t$rootScope.$broadcast( \"drips-reload\" );\n\t\t\t\t\t\t\tscope.dripDetails = { \n\t\t\t\t\t\t\t\t\"state\": \"public\"\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} );\t\t\t\t\t\t\n\t\t\t\t\t};\n\t\t\t\t\t/**\n\t\t\t\t\t\t * JavaScript function to match (and return) the video Id \n\t\t\t\t\t\t * of any valid Youtube Url, given as input string.\n\t\t\t\t\t\t * @author: Stephan Schmitz <eyecatchup@gmail.com>\n\t\t\t\t\t\t * @url: http://stackoverflow.com/a/10315969/624466\n\t\t\t\t\t\t ng-pattern\n\t\t\t\t\t\t /^(?:https?:\\/\\/)?(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\n\t\t\t\t\t*/\n\n\t\t\t\t\tscope.$on( \"drip-new\" , \n\t\t\t\t\t\tfunction ( evt , bucketId , bucketName ) {\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tscope.dripDetails.dripbucket_id = bucketId;\n\t\t\t\t\t\t\tscope.bucketName = bucketName;\n\t\t\t\t\t\t\tscope.dripState = function dripState(){\n\t\t\t\t\t\t\t\tif( scope.bucketName == 'who I am' || scope.bucketName == 'what I do' || scope.bucketName == 'what I am proud of' ){\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\t\t\n\t\t\t\t\t\t} );\n\n\t\t\t\t\tscope.$on( \"profile-data\" , \n\t\t\t\t\t\tfunction ( evt , profile ) {\n\t\t\t\t\t\t\tscope.profileData = profile;\n\t\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"feature\" , [\n\t\t\"$http\",\n\t\tfunction directive ( $http ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"link\": function onLink ( scope , element , attributeSet ) {\t\t\t\t\t\n\n\t\t\t\t\tvar ids = attributeSet.feature.split( \"-\" );\n\n\t\t\t\t\telement.bind( \"click\" , \n\t\t\t\t\t\tfunction ( ) {\n\t\t\t\t\t\t\t$http.post( \"/api/new_featured\" , {\n\t\t\t\t\t\t\t\t\"user_id\": ids[0],\n\t\t\t\t\t\t\t\t\"drip_id\": ids[1]\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\t\t\twindow.location.reload( );\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.service( 'profileService' , [\n\t\tfunction(){\n\t\t\tvar profile = {};\n\t\t\treturn{\n\t\t\t\tsetProfile: function setProfile( credentials ){\n\t\t\t\t\tif( credentials ){\n\t\t\t\t\t\tprofile = credentials;\n\t\t\t\t\t\t//console.log( profile );\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn profile;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] )","drip8\n\t.directive( \"profile\" , [\n\t\t\"$http\",\n\t\t\"Video\",\n\t\t\"$rootScope\",\n\t\t'profileService',\n\t\tfunction directive ( $http , Video , $rootScope , profileService ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"compile\": function compile ( element , attributeSet ){\n\t\t\t\t\treturn{\n\n\t\t\t\t\t\tpre: function pre( scope , element , attributeSet ){\n\t\t\t\t\t\t\tscope.count = 0;\n\t\t\t\t\t\t\tscope.profileName = function profileName( name ){\n\t\t\t\t\t\t\t\tif( name != undefined ){\n\t\t\t\t\t\t\t\t\tscope.count += 1;\n\t\t\t\t\t\t\t\t\tif( scope.count == 1 ){\n\t\t\t\t\t\t\t\t\t\tvar name = name.split( \" \" );\n\t\t\t\t\t\t\t\t\t\tconsole.log( scope.count );\n\t\t\t\t\t\t\t\t\t\tconsole.log( name );\n\t\t\t\t\t\t\t\t\t\treturn name[ 0 ];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tpost: function post( scope , element , attributeSet ){\n\t\t\t\t\t\t\t//console.log( \"profile\" );\n\t\t\t\t\t\t\tscope.profile = { };\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tscope.getUserInfo = function getUserInfo ( ) {\n\t\t\t\t\t\t\t\t$http.get( \"/api/user\" )\n\t\t\t\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\t\t\t\tscope.profile = response.data;\n\t\t\t\t\t\t\t\t\tscope.trustUrl( );\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tscope.passProfile = function passProfile( profile ){\n\t\t\t\t\t\t\t\tlocalStorage.setItem(\"userProfile\", JSON.stringify( profile ) );\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tscope.trustUrl = function trustUrl ( ) {\n\t\t\t\t\t\t\t\tvar video_id = \"\";\n\t\t\t\t\t\t\t\t$http.post( \"/api/video_featured\" , {\n\t\t\t\t\t\t\t\t\t\"user_id\": scope.profile.id\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\t\t\t\tif ( response.link ) {\n\t\t\t\t\t\t\t\t\t\tvideo_id = response.link.split( 'v=' )[1];\n\t\t\t\t\t\t\t\t\t\tvar ampersandPosition = video_id.indexOf( '&' );\n\t\t\t\t\t\t\t\t\t\tif ( ampersandPosition != -1 ) {\n\t\t\t\t\t\t\t\t\t\t  video_id = video_id.substring( 0 , ampersandPosition );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tscope.profile.featured = response.link;\n\t\t\t\t\t\t\t\t\t$rootScope.$broadcast( \"profile-data\" , scope.profile );\n\t\t\t\t\t\t\t\t\tscope.profile.featuredVideo = Video.videoSource( video_id );\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tscope.$watch( 'profile' , function( newValue , oldValue ){\n\t\t\t\t\t\t\t\tif( newValue != oldValue ){\n\t\t\t\t\t\t\t\t\tscope.profile.newValue;\n\t\t\t\t\t\t\t\t\tconsole.log( \"Profile****\" , scope.profile );\n\t\t\t\t\t\t\t\t\tprofileService.setProfile( scope.profile );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\tscope.getUserInfo( );\t\n\t\t\t\t\t\t\tscope.profileData = JSON.parse( localStorage.userProfile );\n\t\t\t\t\t\t\tconsole.log( scope.profileData );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"to\" , [\n\t\tfunction directive ( ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"link\": function onLink ( scope , element , attributeSet ) {\n\n\t\t\t\t\telement.bind( \"click\" , \n\t\t\t\t\t\tfunction ( ) {\n\t\t\t\t\t\t\twindow.location = attributeSet.to;\n\t\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"uiTemplate\" , [\n\t\tfunction directive ( ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"E\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"templateUrl\": function onTemplateLoad ( element , attributeSet ) {\n\t\t\t\t\treturn \"/api/template?template=\" + attributeSet.ngTemplate;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"videoDashboard\" , [\n\t\t\"$http\",\n\t\t\"Video\",\t\t\n\t\tfunction directive ( $http , Video ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"link\": function onLink ( scope , element , attributeSet ) {\n\t\t\t\t\tscope.videoSrc = Video.videoSource( attributeSet.videoSource.split( \"v=\" )[1] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.directive( \"videoLink\" , [\n\t\t'$http',\n\t\t'profileService',\n\t\tfunction  directive ( $http , profileService ) {\n\t\t\treturn {\n\t\t\t\t\"restrict\": \"A\",\n\t\t\t\t\"scope\": true,\n\t\t\t\t\"link\": function onLink ( scope , element , attributeSet ) {\n\t\t\t\t\tscope.videoSource;\n\n\t\t\t\t\t$( \"#videoLink\" ).on( \"hidden.bs.modal\" , \n\t\t\t\t\t\tfunction ( ) {\n\t\t\t\t\t\t\tscope.$apply( function ( ) {\n\t\t\t\t\t\t\t\tscope.videoSource = \"\";\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\n\t\t\t\t\tscope.$on( \"video-source\" , \n\t\t\t\t\t\tfunction ( evt , src , id ) {\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tscope.videoSource = src;\n\t\t\t\t\t\t\t$http.post( \"/api/drip_each\" , { \"drip_id\": id } )\n\t\t\t\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\t\t\t\tconsole.log( response );\n\t\t\t\t\t\t\t\t\tscope.comments = response.drip.comments;\n\t\t\t\t\t\t\t\t\tscope.drip = response.drip;\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\tscope.react = function react( comment ){\n\t\t\t\t\t\tvar user = profileService.setProfile();\n\t\t\t\t\t\tvar fbId = user.profile_picture.split( \"/\" )[3];\n\t\t\t\t\t\tconsole.log( scope.dripBucketDetails );\n\t\t\t\t\t\tconsole.log( user.profile_picture.split( \"/\" ) )\n\t\t\t\t\t\t\n\t\t\t\t\t\t$http.post( \"/api/create_comment\" , {\n\t\t\t\t\t\t\t\t\"comment\":{\n\t\t\t\t\t\t\t\t\t\"user_id\"\t\t: user.id ,\n\t\t\t\t\t\t\t\t\t\"drip_id\"\t\t: scope.drip.id ,\n\t\t\t\t\t\t\t\t\t\"dripbucket_id\"\t: \"\" ,\n\t\t\t\t\t\t\t\t\t\"facebook_id\"\t: fbId ,\n\t\t\t\t\t\t\t\t\t\"body\"\t\t\t: comment\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t.success( function ( response ) {\n\t\t\t\t\t\t\t\t\tvar comment = response.comment;\n\t\t\t\t\t\t\t\t\tcomment.user = user;\n\t\t\t\t\t\t\t\t\tscope.comments.push( comment );\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\tscope.dripComment = \"\";\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t] );","drip8\n\t.factory( \"Video\" , [\n\t\t\"$sce\",\n\t\tfunction factory ( $sce ) {\n\t\t\tthis.thumbnail = function thumbnail ( youtubeId ) {\n\t\t\t\treturn $sce.trustAsResourceUrl( \"http://img.youtube.com/vi/\" + youtubeId + \"/0.jpg\" );\n\t\t\t};\n\n\t\t\tthis.videoSource = function videoSource ( youtubeId ) {\n\t\t\t\treturn $sce.trustAsResourceUrl( \"http://www.youtube.com/embed/\" + youtubeId + \"?rel=0&nologo=1&showinfo=0&modestbranding=1&iv_load_policy=3\" );\n\t\t\t};\n\n\t\t\treturn this;\n\t\t}\n\t] );"],"sourceRoot":"/source/"}